<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
#progressBox{ width:300px; height:40px; border:1px solid #C8C8C8; background:white; position:relative;}
#progressBar{ position:absolute; left:0; top:0; z-index:2; height:40px; width:100%; line-height:40px; color:white; text-align:center; font-size:20px; font-weight:bold; font-family:Georgia; clip:rect(0px, 0, 40px, 0px); background:#00A1F5;}
#progressText { position:absolute; left:0; top:0; z-index:1; width:100%; height:40px; line-height:40px; color:black; text-align:center; font-size:20px; font-weight:bold; font-family:Georgia;}
</style>
<script>

window.onload = function(){

	var iNow = 0;

	var timer = setInterval(function(){
	
		if(iNow==100){
			clearInterval(timer);
		}
		else{
			iNow += 1;
			
			progressFn(iNow);
		}
	
	},30);

	
	function progressFn(cent){
		
		var oDiv1 = document.getElementById('progressBox');
		var oDiv2 = document.getElementById('progressBar');
		var oDiv3 = document.getElementById('progressText');
		
		var allWidth = parseInt(getStyle(oDiv1,'width'));
		
		oDiv2.innerHTML = cent + '%';
		oDiv3.innerHTML = cent + '%';
		oDiv2.style.clip = 'rect(0px, '+ cent/100 * allWidth +'px, 40px, 0px)';
		
		
		function getStyle(obj,attr){
			if(obj.currentStyle){
				return obj.currentStyle[attr];
			}
			else{
				return getComputedStyle(obj,false)[attr];
			}
		}
	}
};

</script>
</head>

<body>
<div id="progressBox">
    <div id="progressBar">0%</div>
    <div id="progressText">0%</div>
</div>
</body>
</html>
